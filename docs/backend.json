{
  "entities": {
    "Property": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Property",
      "type": "object",
      "description": "Represents a rental property with detailed information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Auto-generated unique identifier for the property."
        },
        "name": {
          "type": "string",
          "description": "Identifying title, like “Shop 2”, “Flat A-3”."
        },
        "type": {
          "type": "string",
          "description": "Type of unit.",
          "enum": ["shop", "flat", "land", "office"]
        },
        "category": {
            "type": "string",
            "description": "Residential, Commercial, or Agricultural",
            "enum": ["residential", "commercial", "agricultural"]
        },
        "areaSize": {
            "type": "string",
            "description": "Example: '450 sq ft', '1 kanal'"
        },
        "address": {
          "type": "string",
          "description": "Complete postal address."
        },
        "landmark": {
          "type": "string",
          "description": "Helps locate it (e.g., near main bus stand)."
        },
        "pinCode": {
          "type": "string",
          "description": "For local mapping & search."
        },
        "rentAmount": {
          "type": "number",
          "description": "Standard rent set for this property."
        },
        "depositAmount": {
          "type": "number",
          "description": "Security deposit."
        },
        "maintenanceCharge": {
          "type": "number",
          "description": "Optional, per month."
        },
        "rentDueDate": {
          "type": "string",
          "format": "date",
          "description": "Rent due day each month."
        },
        "currentTenantId": {
          "type": "string",
          "description": "Link to tenants collection."
        },
        "occupancyStatus": {
          "type": "string",
          "description": "Occupancy status.",
          "enum": ["vacant", "occupied", "reserved"]
        },
        "availabilityDate": {
          "type": "string",
          "format": "date",
          "description": "When next available."
        },
        "notes": {
          "type": "string",
description": "Extra remarks (e.g., 'needs repaint before next tenant')."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of creation.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp of last update.",
          "format": "date-time"
        }
      },
      "required": ["id", "name", "type", "category", "address", "rentAmount", "occupancyStatus", "createdAt", "updatedAt"]
    },
    "Tenant": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Tenant",
      "type": "object",
      "description": "Represents a tenant, now with more detailed information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Auto-generated unique identifier for the tenant."
        },
        "name": {
          "type": "string",
          "description": "Tenant's full name."
        },
        "phone": {
          "type": "string",
          "description": "Used for WhatsApp sharing (with country code)."
        },
        "email": {
          "type": "string",
          "description": "Optional; for future email receipts.",
          "format": "email"
        },
        "propertyName": {
          "type": "string",
          "description": "Shop, flat, or house name/number."
        },
        "propertyAddress": {
          "type": "string",
          "description": "Full address of the rented unit."
        },
        "rentAmount": {
          "type": "number",
          "description": "Monthly rent amount."
        },
        "depositAmount": {
          "type": "number",
          "description": "Security deposit (optional)."
        },
        "dueDate": {
          "type": "string",
          "description": "Rent due day each month.",
          "format": "date"
        },
        "netTerms": {
          "type": "number",
          "description": "Payment grace period in days (e.g., 5 for Net 5)."
        },
        "paymentMethod": {
          "type": "string",
          "description": "Cash, Bank, UPI, etc.",
          "enum": [
            "cash",
            "bank",
            "upi",
            "other"
          ]
        },
        "lastPaymentMonth": {
          "type": "string",
          "description": "Last month for which payment was made (e.g., 'YYYY-MM')."
        },
        "paymentStatus": {
          "type": "string",
          "description": "Payment status.",
          "enum": [
            "due",
            "paid",
            "partial",
            "overdue"
          ]
        },
        "lastReceiptUrl": {
          "type": "string",
          "description": "PDF link to Firebase Storage."
        },
        "lastPaymentDate": {
          "type": "string",
          "description": "Actual payment date.",
          "format": "date-time"
        },
        "notes": {
          "type": "string",
          "description": "Free text or remarks."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of creation.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp of last update.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "propertyName",
        "propertyAddress",
        "rentAmount",
        "dueDate",
        "paymentMethod",
        "paymentStatus",
        "createdAt",
        "updatedAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "anonymous",
      "password"
    ]
  },
  "firestore": {
    "firestore.rules": "service cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}",
    "/properties/{propertyId}": {
      "schema": {
        "$ref": "#/entities/Property"
      },
      "description": "Stores all property information."
    },
    "/tenants/{tenantId}": {
      "schema": {
        "$ref": "#/entities/Tenant"
      },
      "description": "Stores all tenant information."
    }
  }
}
