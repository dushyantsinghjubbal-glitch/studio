{
  "entities": {
    "Property": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Property",
      "type": "object",
      "description": "Represents a rental property.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the property."
        },
        "name": {
          "type": "string",
          "description": "The name or address of the property."
        },
        "type": {
          "type": "string",
          "description": "The type of property.",
          "enum": [
            "apartment",
            "shop"
          ]
        }
      },
      "required": [
        "id",
        "name",
        "type"
      ]
    },
    "Tenant": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Tenant",
      "type": "object",
      "description": "Represents a tenant, now with more detailed information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Auto-generated unique identifier for the tenant."
        },
        "name": {
          "type": "string",
          "description": "Tenant's full name."
        },
        "phone": {
          "type": "string",
          "description": "Used for WhatsApp sharing (with country code)."
        },
        "email": {
          "type": "string",
          "description": "Optional; for future email receipts.",
          "format": "email"
        },
        "propertyName": {
          "type": "string",
          "description": "Shop, flat, or house name/number."
        },
        "propertyAddress": {
          "type": "string",
          "description": "Full address of the rented unit."
        },
        "rentAmount": {
          "type": "number",
          "description": "Monthly rent amount."
        },
        "depositAmount": {
          "type": "number",
          "description": "Security deposit (optional)."
        },
        "dueDate": {
          "type": "string",
          "description": "Rent due day each month.",
          "format": "date"
        },
        "paymentMethod": {
          "type": "string",
          "description": "Cash, Bank, UPI, etc.",
          "enum": [
            "cash",
            "bank",
            "upi",
            "other"
          ]
        },
        "lastPaymentMonth": {
          "type": "string",
          "description": "Last month for which payment was made (e.g., 'YYYY-MM')."
        },
        "paymentStatus": {
          "type": "string",
          "description": "Payment status.",
          "enum": [
            "due",
            "paid",
            "partial"
          ]
        },
        "lastReceiptUrl": {
          "type": "string",
          "description": "PDF link to Firebase Storage."
        },
        "lastPaymentDate": {
          "type": "string",
          "description": "Actual payment date.",
          "format": "date-time"
        },
        "notes": {
          "type": "string",
          "description": "Free text or remarks."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of creation.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp of last update.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "propertyName",
        "propertyAddress",
        "rentAmount",
        "dueDate",
        "paymentMethod",
        "paymentStatus",
        "createdAt",
        "updatedAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "anonymous"
    ]
  },
  "firestore": {
    "/properties/{propertyId}": {
      "schema": {
        "$ref": "#/entities/Property"
      },
      "description": "Stores all property information."
    },
    "/tenants/{tenantId}": {
      "schema": {
        "$ref": "#/entities/Tenant"
      },
      "description": "Stores all tenant information."
    }
  }
}